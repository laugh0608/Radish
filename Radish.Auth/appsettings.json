{
  // Radish.Auth - OIDC 认证服务器配置

  // 日志配置
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "OpenIddict": "Information"
    }
  },

  // 允许的入口地址
  "AllowedHosts": "*",

  // CORS 配置（允许前端、API 文档等访问）
  "Cors": {
    "AllowedOrigins": [
      "https://localhost:5000",
      "http://localhost:5001",
      "http://localhost:5100",
      "http://localhost:3000",
      "https://localhost:3000"
    ]
  },

  // AutoMapper 配置（如有商业许可证，请在 appsettings.Local.json 中配置）
  "AutoMapper": {
    "LicenseKey": ""
  },

  // SqlSugar 的雪花 ID 算法需要配置
  "Snowflake": {
    // 约定：Auth 服务 WorkId 为 2（API=0, Gateway=1, Auth=2）
    "WorkId": 2,
    // 数据中心 ID 不要动，默认为 0 即可
    "DataCenterId": 0
  },

  // Redis 配置（生产环境请在 appsettings.Local.json 或环境变量中配置连接字符串）
  "Redis": {
    // 缓存开关，true 为使用 Redis，false 为使用内存缓存
    "Enable": false,
    // 示例：'localhost:6379,password=your_password,allowAdmin=true'
    "ConnectionString": "localhost:6379,allowAdmin=true",
    // Redis 前缀
    "InstanceName": "RadishAuth"
  },

  // 数据库配置
  // MainDb: 标识当前项目的主库，所对应的连接字符串的 Enabled 必须为 true
  // Log: 标识日志库，所对应的连接字符串的 Enabled 必须为 true
  // 注意：生产环境数据库连接字符串请在 appsettings.Local.json 或环境变量中配置
  "MainDb": "Main",
  "Databases": [
    /**
     * 对应下边的 DbType
     * MySql = 0,
     * SqlServer = 1,
     * Sqlite = 2,
     * Oracle = 3,
     * PostgreSql = 4,
     * DaMeng = 5, // 达梦
     * Kdbndp = 6, // 金仓
     */
    {
      "ConnId": "Main",
      "DbType": 2,
      "Enabled": false,
      // Sqlite 只写数据库名就行，对应的，数据库文件要在项目根目录下
      "ConnectionString": ""
    },
    {
      // 日志库连接固定名称，不要改
      "ConnId": "Log",
      "DbType": 2,
      "Enabled": false,
      // 从库执行级别，越大越先执行
      "HitRate": 50,
      // Sqlite 只写数据库名就行，对应的，数据库文件要在项目根目录下
      "ConnectionString": ""
    }
  ],

  // OpenIddict 配置
  "OpenIddict": {
    // 服务器配置
    "Server": {
      // 发行者 URL（认证服务器地址）
      // 生产环境通过 Gateway 访问，使用 https://your-domain.com
      // 本地开发通过 Gateway 访问，使用 https://localhost:5000
      "Issuer": "http://localhost:5200",

      // 令牌有效期（分钟）
      "AccessTokenLifetime": 60,
      "RefreshTokenLifetime": 43200,
      "AuthorizationCodeLifetime": 5,

      // 是否允许不安全的 HTTP（仅开发环境使用）
      "AllowInsecureHttp": false
    },

    // 加密配置
    "Encryption": {
      // 开发环境使用临时密钥，生产环境必须配置固定密钥
      "UseDevelopmentKeys": true,
      // 生产环境密钥（在 appsettings.Local.json 中配置）
      "EncryptionKey": "",
      "SigningKey": ""
    }
  }
}
