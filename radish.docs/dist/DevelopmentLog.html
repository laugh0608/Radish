<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发日志 | Radish 文档</title>
    <meta name="description" content="Radish 社区平台文档">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/docs/assets/style.DuOwLuGy.css" as="style">
    <link rel="preload stylesheet" href="/docs/vp-icons.css" as="style">
    
    <script type="module" src="/docs/assets/app.DrLBQsnq.js"></script>
    <link rel="preload" href="/docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/assets/chunks/theme.DXkXcpDi.js">
    <link rel="modulepreload" href="/docs/assets/chunks/framework.DdJmP4Xu.js">
    <link rel="modulepreload" href="/docs/assets/DevelopmentLog.md.DlG7OOHi.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/docs/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Radish 文档</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/DevelopmentSpecifications.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>开发文档</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/DevelopmentFramework.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>架构设计</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/DeploymentGuide.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>部署运维</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>快速开始</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>项目概览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>开发指南</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/DevelopmentSpecifications.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>开发规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/DevelopmentFramework.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>开发框架说明</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/AuthenticationGuide.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>认证与权限</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/FrontendDesign.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>前端设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/GatewayPlan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Gateway 规划</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>部署与运维</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/DeploymentGuide.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>部署指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/DevelopmentPlan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>开发计划</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/docs/DevelopmentLog.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>开发日志</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _docs_DevelopmentLog" data-v-39a288b8><div><h1 id="开发日志" tabindex="-1">开发日志 <a class="header-anchor" href="#开发日志" aria-label="Permalink to &quot;开发日志&quot;">​</a></h1><h2 id="第三阶段" tabindex="-1">第三阶段 <a class="header-anchor" href="#第三阶段" aria-label="Permalink to &quot;第三阶段&quot;">​</a></h2><blockquote><p>OIDC 认证中心与前端框架搭建</p></blockquote><h3 id="_2025-11-27" tabindex="-1">2025.11.27 <a class="header-anchor" href="#_2025-11-27" aria-label="Permalink to &quot;2025.11.27&quot;">​</a></h3><ul><li><strong>feat(gateway/portal)</strong>: 优化 Gateway 门户页面 URL 显示与配置管理 <ul><li>修复服务卡片 URL 溢出问题：添加 <code>word-break</code>、<code>overflow-wrap</code> 自动换行支持</li><li>增加服务卡片最小宽度至 280px，为 URL 提供更多显示空间</li><li>实现从配置文件读取服务 URL：新增 <code>GatewayService.PublicUrl</code> 配置项</li><li>移除 HTTP 端口显示，每个服务仅显示主 URL（开发环境使用 HTTPS 端口）</li><li>JavaScript 健康检查 URL 从配置动态读取，通过 <code>data-*</code> 属性传递</li></ul></li><li><strong>feat(gateway/config)</strong>: 创建生产环境配置示例 <code>appsettings.Production.example.json</code><ul><li>说明反向代理场景下的配置方式（公网域名 + 内网 HTTP 端口）</li><li>提供生产环境 CORS、服务地址等配置示例</li></ul></li><li><strong>docs(deployment)</strong>: 明确反向代理最佳实践：TLS 终止在反向代理层，后端服务使用 HTTP 端口</li><li><strong>refactor(gateway/portal)</strong>: Gateway 门户页面配置化改造，为生产环境部署做好准备</li></ul><h3 id="_2025-11-25" tabindex="-1">2025.11.25 <a class="header-anchor" href="#_2025-11-25" aria-label="Permalink to &quot;2025.11.25&quot;">​</a></h3><ul><li><strong>decision(gateway)</strong>: 复盘 Gateway 与 Auth 的优先级，确认当前阶段仅有 <code>Radish.Api + Radish.Auth</code> 两个宿主，复杂度有限，Gateway 投入收益不高；因此 Gateway 项目整体移至 M9（暂缓），只在接口/配置中保留将来透传所需的 Header/Trace/Token 字段。</li><li><strong>plan(auth-first)</strong>: 将“Radish.Auth + OIDC 客户端集成”明确为 M3-M4 的唯一主线，后续 WebOS/桌面子应用、Scalar OAuth、客户端管理均依赖该服务，团队资源集中支持 Auth 交付。</li><li><strong>docs(plan/framework/gateway)</strong>: <code>DevelopmentPlan.md</code> 更新里程碑表与周计划提示，强调 Gateway 暂缓、Auth 为前置；<code>DevelopmentFramework.md</code> 与 <code>GatewayPlan.md</code> 追加状态说明及执行条件，统一文档口径。</li></ul><h3 id="_2025-11-24" tabindex="-1">2025.11.24 <a class="header-anchor" href="#_2025-11-24" aria-label="Permalink to &quot;2025.11.24&quot;">​</a></h3><ul><li><strong>arch(auth)</strong>: 决定采用 OIDC（OpenID Connect）架构替代原有的简单 JWT 认证，使用 OpenIddict 作为认证服务器实现。主要考量： <ul><li>一次登录可访问多个客户端（Scalar API 文档、前端、后台管理、未来的商城等）</li><li>标准化协议，便于未来扩展第三方登录</li><li>支持 Authorization Code + PKCE 流程，更安全</li><li>可独立扩展认证服务</li></ul></li><li><strong>plan(phase3)</strong>: 重新规划第三阶段工作顺序，调整里程碑 M3/M4 内容： <ul><li>M3 聚焦 OIDC 认证中心：创建 Radish.Auth 项目、设计身份数据模型、实现 DbSeed 初始化、配置 OpenIddict 端点、集成 Scalar OAuth</li><li>M4 聚焦前端框架与认证：搭建桌面模式骨架、基础组件库、OIDC 客户端集成、资源服务器配置</li></ul></li><li><strong>design(identity)</strong>: 规划身份数据模型目录结构 <code>Radish.Model/Models/Identity/</code>，包含 User、Role、UserRole、UserClaim、Tenant、Permission、RolePermission 等实体</li><li><strong>design(clients)</strong>: 预定义 OIDC 客户端注册： <ul><li><code>radish-client</code> - WebOS 前端客户端（包含论坛/聊天/商城/后台管理子应用）</li><li><code>radish-scalar</code> - API 文档客户端</li><li><code>radish-rust-ext</code> - Rust 扩展项目客户端</li></ul></li><li><strong>docs</strong>: 更新 DevelopmentPlan.md 里程碑概览与周计划，详细描述第 3-4 周的 OIDC 相关任务与验收标准</li><li><strong>arch(open-platform)</strong>: 确认开放平台需求，OIDC 客户端需支持后台动态配置： <ul><li>内部应用：radish-client（WebOS）、radish-scalar、radish-rust-ext</li><li>第三方应用：未来支持动态注册和接入</li><li>后台管理（作为 WebOS 子应用）需提供应用管理界面（CRUD、重置 Secret、启用/禁用）</li></ul></li><li><strong>arch(frontend/webos)</strong>: 确认采用 <strong>WebOS/超级应用</strong> 架构，Radish 是运行在浏览器中的操作系统： <ul><li>单体应用 <code>radish.client</code>，不分离前后台</li><li>桌面系统（Desktop Shell）：状态栏、图标网格、Dock、窗口管理器</li><li>所有功能作为桌面应用：论坛、聊天室、商城、后台管理、API 文档</li><li>应用注册表（AppRegistry）：统一管理应用元信息（类型、权限、图标）</li><li>权限控制：根据用户角色动态显示/隐藏应用图标</li><li>窗口类型：window（可拖拽）、fullscreen（全屏）、iframe（嵌入外部）</li><li>后台管理作为 <code>apps/admin/</code> 子应用，全屏模式运行，使用 Ant Design 组件</li></ul></li><li><strong>arch(gateway)</strong>: 决定 Gateway 暂缓，理由： <ul><li>当前后端服务仅 Auth + Api，复杂度不高</li><li>OIDC 已解决认证统一问题</li><li>待服务数量增加或需要 BFF 聚合时再引入</li></ul></li><li><strong>docs</strong>: 更新 DevelopmentPlan.md M3/M4 任务，添加客户端管理 API 和后台应用管理界面</li><li><strong>docs(frontend)</strong>: 完全重写 <code>FrontendDesign.md</code> 为 WebOS/超级应用架构文档： <ul><li>详细描述桌面系统、应用注册表、窗口管理器、子应用开发规范</li><li>包含完整代码示例：AppRegistry、WindowManager、权限控制</li><li>移动端适配策略、技术栈、性能优化、迭代计划</li></ul></li><li><strong>docs(plan)</strong>: 调整 <code>DevelopmentPlan.md</code> M4 任务为 WebOS 架构： <ul><li>去掉前后台分离的 Monorepo 结构</li><li>改为单体应用 + 桌面系统 + 子应用架构</li><li>后台管理作为 <code>apps/admin/</code> 子应用，全屏模式</li></ul></li><li><strong>docs(open-platform)</strong>: 更新 <code>OpenPlatformGuide.md</code> 应用矩阵： <ul><li>去掉 <code>radish-admin</code> 独立客户端</li><li><code>radish-client</code> 包含所有子应用（论坛/聊天/商城/后台管理）</li><li>调整系统架构图反映 WebOS 结构</li></ul></li></ul><h2 id="第二阶段" tabindex="-1">第二阶段 <a class="header-anchor" href="#第二阶段" aria-label="Permalink to &quot;第二阶段&quot;">​</a></h2><h3 id="阶段总结" tabindex="-1">阶段总结 <a class="header-anchor" href="#阶段总结" aria-label="Permalink to &quot;阶段总结&quot;">​</a></h3><ul><li><strong>后端框架落地</strong>：完成 <code>Radish.Api</code> 最小宿主与分层架构（Common/Core/Extension/Service/Repository/I* 项目）搭建，Autofac 容器、ConfigurableOptions、<code>AppSettingsTool</code>、<code>App.ConfigureApplication()</code> 四步绑定、SqlSugarScope、Snowflake ID、Serilog、Redis/内存缓存、泛型仓储与服务、AutoMapper、JWT + PermissionRequirement 等核心能力全部串联，可在开发/生产配置文件中无缝切换并支持多租户、多数据库、日志分流。</li><li><strong>基础设施增强</strong>：实现 SqlSugar 多库与日志库分离、AOP SQL 日志、<code>LogContextTool</code>/<code>SerilogSetup</code> 的统一输出策略、<code>SqlSugarCache</code>/Redis 缓存、<code>ServiceAop</code> 拦截、<code>TenantController</code> 的字段/表/库隔离示例、<code>WeatherForecast</code>/<code>RustTest</code> 的 DI/原生能力验证，确保关键横切关注点（配置、日志、安全、缓存、租户、测试样例）在进入业务阶段前就位。</li><li><strong>模型与权限体系</strong>：补齐 <code>ApiModule</code>、<code>RoleModulePermission</code>、<code>UserRole</code> 等实体与视图模型，<code>PermissionExtension</code> + <code>PermissionRequirementHandler</code> 动态拼装 <code>RadishAuthPolicy</code>，<code>IBaseRepository/IBaseService</code> 支持 Snowflake ID 返回、可空 Where、三表联查等增强，为 RBAC 与业务表 CRUD 提供统一基座。</li><li><strong>文档与前端计划</strong>：同步更新 DevelopmentFramework/Specifications/AuthenticationGuide/FrontendDesign 等文档，记录配置加载、日志策略、SqlSugar 多库、前端桌面化与标准化组件规划，为第三阶段（领域建模、应用服务、桌面化前端组件、DevOps 补强）提供一致的事实来源与验证 checklist。</li></ul><h3 id="_2025-11-23" tabindex="-1">2025.11.23 <a class="header-anchor" href="#_2025-11-23" aria-label="Permalink to &quot;2025.11.23&quot;">​</a></h3><ul><li>feat(log): 引入 <code>Radish.Extension.SerilogExtension</code>（<code>SerilogSetup</code> + <code>LogConfigExtension</code>），Program 通过 <code>builder.Host.AddSerilogSetup()</code> 安装 Serilog，统一输出到控制台与 <code>Log/</code> 目录，并用 <code>LogContextTool.LogSource</code> 区分普通日志与 SqlSugar AOP 日志；日志落盘使用 <code>WriteTo.Async()</code> 防止阻塞请求线程，同时在 <code>Log/SerilogDebug</code> 下收集 SelfLog。</li><li>chore(common): <code>LogContextTool</code> 重命名并扩展 <code>SerilogDebug</code> 常量，供 Serilog 内部日志复用；<code>SqlSugarAop</code> 不再直接 <code>Console.WriteLine</code>，统一交给 Serilog 输出。</li><li>chore(api/weather): <code>WeatherForecastController</code> 更新为注入 <code>ILogger&lt;WeatherForecastController&gt;</code>，演示同时使用 <code>_logger</code> 与 <code>Serilog.Log</code> 输出示例日志，避免 Autofac 无法解析非泛型 <code>ILogger</code> 的问题。</li></ul><h3 id="_2025-11-22" tabindex="-1">2025.11.22 <a class="header-anchor" href="#_2025-11-22" aria-label="Permalink to &quot;2025.11.22&quot;">​</a></h3><ul><li>feat(config): <code>Program</code> 的 Host 配置阶段在清空默认配置源后同时加载 <code>appsettings.json</code> 与 <code>appsettings.{Environment}.json</code>，并在 SqlSugar 注册后读取 <code>Snowflake.WorkId/DataCenterId</code> 设置 <code>SnowFlakeSingle</code>，确保多实例按环境文件划分唯一 WorkId 且公共默认值仍写在基础文件兜底。</li><li>docs(config/snowflake): DevelopmentFramework 与 DevelopmentSpecifications 说明新增环境配置加载顺序与 <code>Snowflake</code> 配置段的使用方式，明确所有服务器需在各自的环境文件里维护不同的 WorkId/DatacenterId，避免雪花 ID 冲突。</li></ul><h3 id="_2025-11-21" tabindex="-1">2025.11.21 <a class="header-anchor" href="#_2025-11-21" aria-label="Permalink to &quot;2025.11.21&quot;">​</a></h3><ul><li>chore(host/startup): Program.cs 在执行 <code>app.Run()</code> 前输出 “Radish --by luobo” ASCII 标识，方便在控制台明确当前运行实例与版本信息。</li><li>docs(spec): 补充 <code>ApiModule.LinkUrl</code> 的正则写法与 <code>/</code> 前缀要求，开发规范强调包含路径参数的 API 必须在表中登记正则化 URL，避免授权策略匹配遗漏。</li></ul><h3 id="_2025-11-20" tabindex="-1">2025.11.20 <a class="header-anchor" href="#_2025-11-20" aria-label="Permalink to &quot;2025.11.20&quot;">​</a></h3><ul><li>feat(infra): 新增 <code>Radish.Infrastructure</code> 项目沉淀 SqlSugar/租户相关的基础设施（<code>Tenant.RepositorySetting</code>、<code>TenantUtil</code> 等），由 Extension/Repository 统一引用，避免跨层循环依赖并集中维护多租户路由逻辑。</li><li>feat(tenant): <code>TenantController</code> 与 <code>Radish.Api.http</code> 补充字段隔离、分表隔离与分库隔离示例接口，模型层新增 <code>BusinessTable</code>、<code>MultiBusinessTable</code>、<code>SubLibBusinessTable</code> 及其 Vo，Repository 通过 <code>TenantUtil.GetConnectionConfig()</code> 自动切换租户库。</li><li>feat(automapper): <code>CustomProfile</code> 注册 Business/MultiBusiness/SubLibBusiness 的 Vo 映射，保障多租户示例无需手写转换即可返回 DTO。</li><li>docs(auth): <code>AuthenticationGuide.md</code> 汇总当前 JWT 发行、授权策略与 PermissionRequirementHandler 流程，文档化登录接口的 Claim 组合与调试建议，方便新成员快速理解鉴权链路。</li></ul><h3 id="_2025-11-19" tabindex="-1">2025.11.19 <a class="header-anchor" href="#_2025-11-19" aria-label="Permalink to &quot;2025.11.19&quot;">​</a></h3><ul><li>feat(auth): 将鉴权类型拆分到 <code>PermissionExtension</code>，新增 <code>PermissionItem</code> 与 <code>PermissionRequirementHandler</code>，运行时按“角色-API”关系动态组装 <code>RadishAuthPolicy</code>，并在 <code>RoleController</code>、<code>UserController</code> 等控制器上启用策略。</li><li>feat(api/user): <code>UserController</code> 改为统一返回 <code>MessageModel</code>，新增 <code>GetUserById</code> 示例，<code>Radish.Api.http</code>/<code>http-client.env.json</code> 补充用户接口示例与最新 JWT，便于本地调试。</li><li>feat(service/repo): <code>IBaseRepository</code>/<code>IBaseService</code> 增加 <code>QueryMuchAsync</code> 三表联查封装，<code>UserService.RoleModuleMaps()</code> 直接基于 SqlSugar Join 构建 <code>RoleModulePermission</code>，为权限处理器提供实时数据。</li><li>chore(config): 轮换 JWT 密钥，<code>JwtTokenGenerate</code> 与 <code>Program</code> 保持一致；<code>appsettings.json</code> 新增 <code>AppSettings.UseLoadTest</code>，供鉴权测试时跳过登录校验；<code>PermissionRequirement</code> 仅保留配置，授权逻辑迁至 handler。</li><li>test(api): <code>LoginControllerTest</code> 适配新的命名空间与假数据，实现 <code>RoleModuleMaps</code>/<code>QueryMuchAsync</code> 桩方法，继续验证登录流程。</li></ul><h3 id="_2025-11-18" tabindex="-1">2025.11.18 <a class="header-anchor" href="#_2025-11-18" aria-label="Permalink to &quot;2025.11.18&quot;">​</a></h3><ul><li>feat(model/auth): 新增 <code>ApiModule</code>、<code>RoleModulePermission</code>、<code>UserRole</code> 实体与 <code>UserRoleVo</code>/<code>TokenInfoVo</code> 视图模型，补完 API 模块、角色-权限-按钮及用户-角色关联建模，支撑下一步的 RBAC 鉴权。</li><li>refactor(model/user): User/MessageModel/RoleVo/UserVo 默认值与字段全面校准（含 Uuid、Vo* 命名、性别/年龄/状态默认值、消息默认提示等），保证接口契约在登录与下游消费场景下更一致。</li><li>refactor(service/repo): <code>IBaseRepository/IBaseService</code> 的 <code>Query*</code> 支持可空 <code>Expression&lt;Func&lt;...&gt;&gt;</code>，Repository/Service 的实现亦同步泛化，<code>UserService</code> 的种子数据示例也调整为正式命名。</li><li>feat(api/automapper): <code>LoginController</code> 标记为标准 API 控制器并注入 <code>IUserService</code>，AutoMapper Profile 为 User/Role/UserRole 映射补齐前缀识别与字段对应，便于后续直接复用 DTO。</li></ul><h3 id="_2025-11-17" tabindex="-1">2025.11.17 <a class="header-anchor" href="#_2025-11-17" aria-label="Permalink to &quot;2025.11.17&quot;">​</a></h3><ul><li>feat(repo/db): <code>BaseRepository</code> 改由 <code>SqlSugarScope</code> + <code>IUnitOfWorkManage</code> 承载数据库实例，并读取实体上的 <code>[Tenant(configId)]</code> 特性动态切换连接，默认走主库，<code>AuditSqlLog</code> 等标注了 <code>configId=&quot;Log&quot;</code> 的实体自动写入日志库。</li><li>feat(api/tests): WeatherForecast 控制器及其 xUnit 示例同步验证多种依赖解析方式，同时注入 <code>IBaseService&lt;AuditSqlLog, AuditSqlLogVo&gt;</code> 以演示日志库的查询链路，便于之后参考缓存、属性注入与多库访问的组合用法。</li><li>feat(api): WeatherForecastController 新增 <code>[HttpGet(&quot;{id}&quot;)]</code> 的 <code>GetById</code> 示例，可通过 <code>api/WeatherForecast/GetById/1</code> 直接验证路径参数绑定，后续 Controller 添加 REST 风格路由时可参照该写法。</li></ul><h3 id="_2025-11-16" tabindex="-1">2025.11.16 <a class="header-anchor" href="#_2025-11-16" aria-label="Permalink to &quot;2025.11.16&quot;">​</a></h3><ul><li>feat(log): 新增 <code>Radish.Model.LogModels.BaseLog</code> 与 <code>AuditSqlLog</code>，默认挂载 <code>Tenant(configId: &quot;log&quot;)</code> 并按月分表落库，同时提供 <code>AuditSqlLogVo</code> 作为对外视图模型，保证查询日志时依旧走 DTO。</li><li>fix(automapper): <code>AutoMapperConfig</code> 拆分 <code>RegisterCustomProfile()</code>，<code>AutoMapperSetup</code> 在构建配置时先注册自定义 profile，再集中挂载 <code>Role/User/AuditSqlLog</code> 映射；<code>AuditSqlLogProfile</code> 中启用了 <code>RecognizePrefixes/RecognizeDestinationPrefixes(&quot;Vo&quot;)</code>，作为首个 Vo 前缀双向映射样例。</li><li>docs(todo): 启动阶段待接入 <code>AssertConfigurationIsValid()</code> 以确保所有 profile 均通过 AutoMapper 15 的配置校验，避免运行期才发现字段缺失。</li></ul><h3 id="_2025-11-15" tabindex="-1">2025.11.15 <a class="header-anchor" href="#_2025-11-15" aria-label="Permalink to &quot;2025.11.15&quot;">​</a></h3><ul><li>feat(db): <code>Radish.Common.DbTool</code> + <code>Radish.Extension.SqlSugarExtension</code> 接入 SqlSugarScope，<code>BaseDbConfig</code> 统一读取 <code>MainDb</code> 与 <code>Databases</code> 列表，默认提供 <code>Main</code>（业务库）与 <code>Log</code>（日志库）两个 SQLite 示例，并在 Program 中以 <code>AddSqlSugarSetup()</code> 自动注入多库配置。</li><li>feat(log/cache): 新增 <code>SqlSugarCache</code>、<code>SqlSugarAop</code> 与 <code>LogContextHelper</code>，将 SqlSugar 内置缓存委托至 <code>ICaching</code> 并把 SQL 日志推送到 Serilog，上下文可通过 <code>LogSource=AopSql</code> 快速检索。</li><li>feat(model): <code>Radish.Model.RootEntityTKey&lt;TKey&gt;</code> 统一约束实体主键，<code>Role</code> 等实体继承该基类；<code>BaseRepository</code>/<code>BaseService</code> 暴露 <code>ISqlSugarClient</code> 实例以便服务层调试 Hash，对应接口同步更新。</li></ul><h3 id="_2025-11-14" tabindex="-1">2025.11.14 <a class="header-anchor" href="#_2025-11-14" aria-label="Permalink to &quot;2025.11.14&quot;">​</a></h3><ul><li>feat(core/native): 在 <code>Radish.Core/test_lib</code> 引入首个 Rust <code>cdylib</code> 示例，通过 <code>cargo build --release</code> 输出 <code>test_lib</code>，封装累加、斐波那契模拟、埃拉托斯特尼筛及并行质数计算，配合 Rayon/num_cpus 快速验证 CPU 密集算法表现。</li><li>feat(api): 新建 <code>RustTest</code> 控制器，提供 <code>/api/RustTest/TestSum{1-4}</code> 基准接口，对比 C# 与 Rust 的执行耗时，并统一以 <code>DllImport(&quot;test_lib&quot;)</code> 调用共享库。</li><li>docs(native): 当前 Rust demo 仅用于验证流程，正式扩展需迁至解决方案根目录（如 <code>native/rust/*</code>），并通过脚本在构建后自动拷贝 DLL/SO/Dylib，避免继续把 Core 层当成原生模块的承载目录。</li></ul><h3 id="_2025-11-13" tabindex="-1">2025.11.13 <a class="header-anchor" href="#_2025-11-13" aria-label="Permalink to &quot;2025.11.13&quot;">​</a></h3><ul><li>feat(cache): 引入 <code>Radish.Common.CacheTool</code> + <code>Radish.Extension.RedisExtension</code>，配置项默认启用 Redis，可在 <code>Redis.Enable</code> 为 false 时自动退回内存缓存；提供 <code>ICaching</code> 与 <code>IRedisBasketRepository</code> 两层 API，并在 Program 中统一调用 <code>AddCacheSetup()</code> 完成注入。</li><li>refactor(ext): Extension 与 Common 的通用组件重新按功能拆分到 <code>*Tool</code>、<code>AutofacExtension</code>、<code>AutoMapperExtension</code> 等目录，便于后续独立引用；AppSetting/WeatherForecast 控制器与单测同步调整引用路径。</li><li>feat(core): 新增 <code>Radish.Common.Core.App/InternalApp</code>，集中感知 Host/Configuration/RootServices，并提供 <code>GetService*</code> 与 <code>GetOptions*</code> 辅助方法，便于在非 DI 管道内按需解析服务或读取配置。</li><li>chore(host): Program.cs 引入 <code>ConfigureApplication()</code> 四步绑定（Host 配置 → Builder → App → <code>UseApplicationSetup</code>），运行期即可维护 <code>App.IsRun</code> 状态并在停止时刷新 Serilog。</li><li>feat(api): WeatherForecastController 演示 <code>IServiceScopeFactory</code> + <code>App.GetService</code> 多种解析方式，AppSettingController 也补充 <code>App.GetOptions&lt;T&gt;</code> 示例，方便验证配置绑定是否生效。</li><li>docs(config): DevelopmentFramework/Specifications 同步说明新的 App 服务入口使用方式与注意事项，确保后续贡献者遵循统一模式。</li></ul><h3 id="_2025-11-12" tabindex="-1">2025.11.12 <a class="header-anchor" href="#_2025-11-12" aria-label="Permalink to &quot;2025.11.12&quot;">​</a></h3><ul><li>feat(config): <code>AppSettings.App</code> 更名为 <code>AppSettings.RadishApp</code>，统一入口避免与系统方法混淆，并同步更新 AutoMapper 与示例代码。</li><li>feat(options): 新增 <code>ConfigurableOptions</code> + <code>AllOptionRegister</code>，集中注册所有实现 <code>IConfigurableOptions</code> 的配置项，Redis 配置抽象为 <code>Radish.Common.Option.RedisOptions</code> 并通过 <code>IOptions&lt;T&gt;</code> 注入。</li><li>feat(api): 新建 <code>AppSettingController</code> 演示三种读取配置的方式（<code>RadishApp</code>、<code>GetValue</code>、<code>IOptions</code>），同时为 <code>appsettings.json</code> 增补注释与默认前缀。</li></ul><h3 id="_2025-11-10" tabindex="-1">2025.11.10 <a class="header-anchor" href="#_2025-11-10" aria-label="Permalink to &quot;2025.11.10&quot;">​</a></h3><ul><li>feat(aop): 引入 <code>ServiceAop</code> + <code>AopLogInfo</code>，结合 Autofac 动态代理为泛型服务开启接口拦截，输出统一的请求/响应日志。</li><li>docs(spec): 在 DevelopmentSpecifications 中新增 “AOP 与日志” 章节，说明拦截器、日志模型及扩展方式。</li><li>chore(di): <code>AutofacModuleRegister</code> 启用服务/仓储拦截，并确保与 AutoMapperSetup、扩展模块协同；后续若添加新拦截器按此模式接入。</li></ul><h3 id="_2025-11-9" tabindex="-1">2025.11.9 <a class="header-anchor" href="#_2025-11-9" aria-label="Permalink to &quot;2025.11.9&quot;">​</a></h3><ul><li>refactor(di): <code>AutofacPropertyModuleReg</code> 改为由宿主传入 <code>Assembly</code>，避免引用 <code>Program</code> 造成循环依赖，同时扩展层负责注册 Service/Repository 泛型实现。</li><li>chore(project): 调整 Radish.Service 与 Radish.Extension 的引用方向，确保 IoC/扩展层仅被宿主引用，其余业务项目不再依赖扩展层。</li><li>docs(spec): 在 DevelopmentSpecifications 中说明新的分层依赖约束与模块传参约定，方便后续贡献者遵循。</li></ul><h3 id="_2025-11-8" tabindex="-1">2025.11.8 <a class="header-anchor" href="#_2025-11-8" aria-label="Permalink to &quot;2025.11.8&quot;">​</a></h3><ul><li>重新创建项目，完全舍弃之前的代码，包括 ABP 框架与 MongoDB</li><li>重新使用 .NET 10 + React + Entity Framework Core/SqlSugar + PostgreSQL 技术栈</li><li>重新设计项目架构与模块划分</li></ul><h2 id="第一阶段" tabindex="-1">第一阶段 <a class="header-anchor" href="#第一阶段" aria-label="Permalink to &quot;第一阶段&quot;">​</a></h2><blockquote><p>以下内容为历史记录，保留 ABP + Angular + MongoDB 方案的决策脉络以供参考，但不再作为现行实现依据。</p></blockquote><h3 id="_2025-10-29" tabindex="-1">2025.10.29 <a class="header-anchor" href="#_2025-10-29" aria-label="Permalink to &quot;2025.10.29&quot;">​</a></h3><ul><li>feat(openiddict): 同时允许 http/https 回调与登出回调（含静默刷新），前端切换协议无需改配置。</li><li>docs(readme): 重写根 README，整合 docs 内容，补充快速开始、HTTPS/CORS/SSO 指南与常用脚本。</li><li>docs: 合并 DevelopmentBoard 至 DevelopmentPlan，统一为“开发计划与看板”，并更新索引与前端文档引用。</li><li>docs(framework): 在 DevelopmentFramework.md 顶部新增“功能期望与范围”（功能/非功能、里程碑、范围外）。</li><li>docs(index): docs/README.md 索引项更名为“项目总体功能与需求（含范围与里程碑）”。</li><li>docs(framework): 增补“非目标与边界（Non-Goals &amp; Boundaries）”详细清单，明确暂不覆盖项与阶段边界。</li></ul><h3 id="_2025-10-28" tabindex="-1">2025.10.28 <a class="header-anchor" href="#_2025-10-28" aria-label="Permalink to &quot;2025.10.28&quot;">​</a></h3><ul><li>feat(host/mobile): 移除 Hero 区小屏“更多”下拉，统一使用下方移动端功能面板。</li><li>feat(host/mobile): 重构移动端功能面板为两列栅格；语言入口改为下拉；“登录”在未登录时独占整行以提高可见性。</li><li>style(host/mobile): 暗色模式适配移动功能卡片（半透明毛玻璃、清晰边框与阴影），并增强下拉与描边按钮在暗色下的对比度；主题切换、我的账户、注销统一为描边样式。</li><li>style(host/mobile): “卡片密度”从整行分段控件调整为“标签 + 三按钮”，最终并入为“一体式分段控件（含标签的不可点击段）”，与其他按钮视觉一致。</li><li>fix(host/mobile): 解决 Razor 编译错误（string 与 LocalizedHtmlString 混用），语言按钮使用 <code>L[&quot;Language&quot;].Value</code>。</li><li>fix(host/mobile): 分段控件按钮被全局 100% 宽度规则挤压的问题，显式设置 <code>width:auto</code> 恢复等分显示。</li><li>feat(host/mobile): 分段控件支持“当前密度”选中高亮，并与本地存储 <code>radish.density</code> 联动初始化与更新。</li></ul><h3 id="_2025-10-27" tabindex="-1">2025.10.27 <a class="header-anchor" href="#_2025-10-27" aria-label="Permalink to &quot;2025.10.27&quot;">​</a></h3><ul><li>feat(host): 新增“收藏”分区，将已收藏的应用卡片集中展示；无收藏时自动隐藏分区。</li><li>feat(host): 卡片工具区固定两行两列（2x2），避免在窄宽度时遮挡标题/链接。</li><li>feat(host): 最近访问仅保留最新 2 条，减少信息噪音。</li><li>style(host): 缩小应用/收藏网格的纵向间距（--bs-gutter-y=1rem），两排卡片更紧凑。</li><li>fix(host): 解决全屏点击“密度”按钮时下拉被 Hero 的 overflow 裁剪，展开时允许溢出、收起后恢复。</li><li>docs(host): 同步 Host 首页功能说明（新增“收藏”分区、最近仅 2 条、工具区 2x2、间距与下拉裁剪修复说明）。</li></ul><h3 id="_2025-10-26" tabindex="-1">2025.10.26 <a class="header-anchor" href="#_2025-10-26" aria-label="Permalink to &quot;2025.10.26&quot;">​</a></h3><ul><li>feat(angular/mobile): 新增移动端底部导航（自动从路由构建）、BottomSheet 子菜单与“更多”分组；滚动隐藏/显示；加入“管理”虚拟组；语言入口归入“更多”；桌面端新增明暗主题切换工具；移动端列表卡片化与小屏模态全屏。</li><li>fix(angular/mobile): 修复子菜单交互与导航可靠性、语言切换即时生效并设置 html[lang]、Toolbar 注入与按钮丢失、并发请求降噪、分组检测等问题。</li><li>chore(dev): 本地联调默认策略统一为“Host 以 HTTPS 提供 API(44342)，前端默认 HTTP(4200/5173)”，CORS 建议双协议且 Host 自动补全；为避免 44342 冲突，取消同端口双协议监听。配套文档与示例环境更新。</li><li>docs(backend/frontend/SSO): 同步本地联调与证书信任说明、CORS/Redirect 示例、预检自测命令等；根 README_CN/EN 增补策略说明。</li><li>fix(host,angular): 切换字体资源到国内镜像并增加全局字体回退，修复移动端叠层问题。</li><li>feat(host): 重构 Host 首页（Radish Landing）：Hero 渐变与轻动效、响应式网格卡片、浅/深主题与持久化、移动端功能面板、最近访问、密度切换（含自动）、健康检查按钮、拖拽排序编辑、隐藏与显隐管理、区块标题与 I18N。</li><li>fix(host): 修正 Hero full‑bleed/边缘过渡与容器布局细节；优化移动端操作区排布与卡片工具栏遮挡。</li><li>docs(host): 新增 Host 首页功能说明文档（docs/Host-Home-Features.md），并在 docs/README.md 加入链接，完善导航。</li></ul><h3 id="_2025-10-25" tabindex="-1">2025.10.25 <a class="header-anchor" href="#_2025-10-25" aria-label="Permalink to &quot;2025.10.25&quot;">​</a></h3><ul><li>feat(auth): Angular 端为主要路由加 authGuard，未登录访问自动跳转登录；保留 account 路由匿名访问，避免循环重定向。</li><li>fix(host): 首页 Swagger/Scalar 卡片点击仅“原地刷新”——按应用 ClientId 自动补全 /swagger、/scalar。</li><li>feat(openiddict): 数据种子将 Swagger/Scalar 的 ClientUri 初始化到具体文档页（/swagger、/scalar），并在迁移时同步更新已有记录；保留正确的 redirectUri（/swagger/oauth2-redirect.html、/scalar/...）。</li><li>feat(backend): 启动时打印 CORS 允许来源；通过 .env 的 App__CorsOrigins 管理跨域来源，.env.example 预置本地来源示例（5173/4200）。</li><li>refactor(config): 注释弃用 appsettings.json 的 App:CorsOrigins，统一改为 .env 的 App__CorsOrigins 管理。</li><li>docs(backend/frontend/SSO): 同步统一 HTTPS 与 CORS 方案，完善 dev-certs 脚本与启动日志确认要点；提供 Host/DbMigrator 的 .env.example；为 React/Angular 指南补充配置要点。</li><li>chore(dev): 统一本地 HTTPS 证书目录与引用；为 Angular/React 的 serve 配置证书。</li></ul><h3 id="_2025-10-24" tabindex="-1">2025.10.24 <a class="header-anchor" href="#_2025-10-24" aria-label="Permalink to &quot;2025.10.24&quot;">​</a></h3><ul><li>feat(config): 按环境加载 .env，抽离敏感项并提供示例文件（Host/DbMigrator 支持 .env.development 与 .env.product，忽略本地 .env.development）。</li><li>fix(swagger): 未登录访问 /swagger 时使用 Cookie 挑战，避免回调 HTML 导致 YAML 解析错误；允许已登录会话访问 Swagger，修正 Swagger/Scalar 客户端 RootUrl。</li><li>docs(swagger): 保留 OIDC 所需的 /connect 路径并隐藏不必要的 ABP Schemas，对文档仅保留项目 API，隐藏基础设施端点。</li><li>chore(frontend): CI 严格安装策略与贡献者设置收尾。</li></ul><h3 id="_2025-10-23" tabindex="-1">2025.10.23 <a class="header-anchor" href="#_2025-10-23" aria-label="Permalink to &quot;2025.10.23&quot;">​</a></h3><ul><li>导航/搜索：顶部导航中部改为搜索框，移动端抽屉提供搜索输入。</li><li>Dock 底部栏：新增玻璃态半透明栏，宽度自适应，窄屏逐级隐藏；向下滚动隐藏、停止/向上滚动显示，提供返回顶部按钮。</li><li>交互/动效：桌面端支持 Dock 鱼眼放大动效；图标悬浮提示气泡、通知角标示例、右键/长按菜单。</li><li>布局/样式：主内容区根据 Dock 实际高度自适应底部留白；glass 效果与高光描边、投影；通过 ResizeObserver 写入 <code>--dock-inset-bottom</code> 并用于 body padding。</li><li>实现细节：useScrollDirection 阈值 4px、最小触发高度 80px、空闲显示延迟 260ms；仅 hover 设备通过 <code>matchMedia(&#39;(hover: hover)&#39;)</code> 启用动效；鱼眼放大使用高斯影响（最大缩放约 1.65，半径约 120px）。</li><li>影响范围：NavBar、BottomBar、DockToggle、StickyStack、全局样式 <code>index.css</code>；i18n 新增 <code>dock.*</code> 与 <code>menu.*</code> 文案。</li><li>今日提交：无（以上为工作区变更摘要）。</li></ul><h3 id="_2025-10-20" tabindex="-1">2025.10.20 <a class="header-anchor" href="#_2025-10-20" aria-label="Permalink to &quot;2025.10.20&quot;">​</a></h3><p>refactor: 将react项目从js重构为ts</p><h3 id="_2025-10-8" tabindex="-1">2025.10.8 <a class="header-anchor" href="#_2025-10-8" aria-label="Permalink to &quot;2025.10.8&quot;">​</a></h3><p>feat: 暂时完成了 API 手动和自动控制器的版本控制</p><ul><li>feat: 完成了 Swagger 的多版本配置（鉴权认证还没做）</li><li>feat: 完成了 Scalar 的多版本配置（鉴权认证还没做，而且还读取的是 <code>/swagger/xx/swagger.json</code> ）</li><li>目前主要是 ABP 框架的不兼容导致的，后面再研究怎么手动来实现： <ul><li>鉴权和 OIDC 认证</li><li>API 文档的注释</li><li>API 文档和 Schme 的过滤显示</li></ul></li></ul><h3 id="_2025-10-6" tabindex="-1">2025.10.6 <a class="header-anchor" href="#_2025-10-6" aria-label="Permalink to &quot;2025.10.6&quot;">​</a></h3><p>feat: 增加了 HttpApi.Host 项目首页的项目展示</p><h3 id="_2025-10-5" tabindex="-1">2025.10.5 <a class="header-anchor" href="#_2025-10-5" aria-label="Permalink to &quot;2025.10.5&quot;">​</a></h3><p>feat: 增加了 Scalar 配置</p><h3 id="_2025-10-4" tabindex="-1">2025.10.4 <a class="header-anchor" href="#_2025-10-4" aria-label="Permalink to &quot;2025.10.4&quot;">​</a></h3><p>docs: 完成了项目目录架构的初版</p><h3 id="_2025-9-29" tabindex="-1">2025.9.29 <a class="header-anchor" href="#_2025-9-29" aria-label="Permalink to &quot;2025.9.29&quot;">​</a></h3><p>build: 在 ABP Studio 中增加了 React 项目的启动脚本</p><h3 id="_2025-9-28" tabindex="-1">2025.9.28 <a class="header-anchor" href="#_2025-9-28" aria-label="Permalink to &quot;2025.9.28&quot;">​</a></h3><p>docs: 写了开发大纲</p><h3 id="_2025-9-27" tabindex="-1">2025.9.27 <a class="header-anchor" href="#_2025-9-27" aria-label="Permalink to &quot;2025.9.27&quot;">​</a></h3><p>feat: 决定使用 Radish 项目名称，创建 ABP 项目</p><h3 id="_2025-11-25-1" tabindex="-1">2025.11.25 <a class="header-anchor" href="#_2025-11-25-1" aria-label="Permalink to &quot;2025.11.25&quot;">​</a></h3><h4 id="feat-完善-scalar-openapi-文档配置" tabindex="-1">feat: 完善 Scalar OpenAPI 文档配置 <a class="header-anchor" href="#feat-完善-scalar-openapi-文档配置" aria-label="Permalink to &quot;feat: 完善 Scalar OpenAPI 文档配置&quot;">​</a></h4><ul><li><strong>创建 OpenAPI 扩展模块</strong>: 新建 <code>Radish.Extension/OpenApiExtension/ScalarSetup.cs</code>，统一管理 OpenAPI 和 Scalar 配置</li><li><strong>简化 Program.cs</strong>: 通过 <code>AddScalarSetup()</code> 和 <code>UseScalarUI()</code> 扩展方法简化配置代码</li><li><strong>完善 MessageModel 文档</strong>: 为 <code>MessageModel&lt;T&gt;</code> 添加完整的 XML 注释、使用示例和业务场景说明</li><li><strong>增强 Controller 文档</strong>: <ul><li>LoginController: 添加详细的登录流程、请求/响应示例</li><li>UserController: 为所有方法添加业务场景和参数说明</li><li>使用 <code>[Tags]</code> 特性进行 API 分组（&quot;认证管理&quot;、&quot;用户管理&quot;）</li><li>使用 <code>[ProducesResponseType]</code> 明确声明所有可能的响应状态码</li></ul></li><li><strong>JWT 认证文档化</strong>: 在 OpenAPI 文档中添加 JWT Bearer 认证说明和使用指南</li><li><strong>项目配置优化</strong>: <ul><li>为 <code>Radish.Model</code> 和 <code>Radish.Api</code> 启用 XML 文档生成</li><li>配置多版本 API 文档支持</li></ul></li><li><strong>Scalar UI 优化</strong>: 使用 BluePlanet 主题、强制暗色模式、启用操作 ID 显示、展开所有标签、按字母排序</li><li><strong>Bug 修复</strong>: 修复 SerilogDebug 日志目录不存在导致的启动异常</li></ul><h4 id="chore-配置调试启动时自动打开-api-文档" tabindex="-1">chore: 配置调试启动时自动打开 API 文档 <a class="header-anchor" href="#chore-配置调试启动时自动打开-api-文档" aria-label="Permalink to &quot;chore: 配置调试启动时自动打开 API 文档&quot;">​</a></h4><ul><li>修改 <code>launchSettings.json</code>，为所有 profile 启用 <code>launchBrowser</code></li><li>默认打开 <code>/api/docs</code> (Scalar 文档页面)</li><li>Visual Studio 中按 F5 启动调试时，浏览器会自动打开并导航到 API 文档</li><li>关闭浏览器窗口时，Visual Studio 会自动停止调试会话</li></ul><h4 id="feat-实现基于-url-路径的-api-版本控制" tabindex="-1">feat: 实现基于 URL 路径的 API 版本控制 <a class="header-anchor" href="#feat-实现基于-url-路径的-api-版本控制" aria-label="Permalink to &quot;feat: 实现基于 URL 路径的 API 版本控制&quot;">​</a></h4><ul><li><p><strong>版本控制核心配置</strong>:</p><ul><li>安装 <code>Asp.Versioning.Mvc</code> 和 <code>Asp.Versioning.Mvc.ApiExplorer</code> (8.1.0)</li><li>配置 URL 路径版本控制，格式为 <code>/api/v{version}/[controller]/[action]</code></li><li>设置默认版本为 1.0，未指定版本时自动使用默认版本</li><li>启用 API 版本报告和自动版本替换</li></ul></li><li><p><strong>版本划分</strong>:</p><ul><li><strong>v1 (稳定版本)</strong>: LoginController、UserController</li><li><strong>v2 (预览版本)</strong>: AppSettingController、RustTestController</li></ul></li><li><p><strong>Controllers 更新</strong>:</p><ul><li>添加 <code>[ApiVersion(&quot;x.0&quot;)]</code> 特性声明版本</li><li>路由模板更新为 <code>api/v{version:apiVersion}/[controller]/[action]</code></li><li>完善 XML 注释和响应类型声明</li><li>为 v2 Controller 添加 Tags 分类（&quot;系统管理&quot;、&quot;性能测试&quot;）</li></ul></li><li><p><strong>OpenAPI 动态文档生成</strong>:</p><ul><li>使用 <code>IApiVersionDescriptionProvider</code> 自动发现所有 API 版本</li><li>为每个版本动态创建独立的 OpenAPI 文档</li><li>每个版本文档包含专属的描述、示例和接口列表</li><li>支持版本弃用标记和警告提示</li></ul></li><li><p><strong>Scalar UI 版本切换</strong>:</p><ul><li>自动生成版本选择下拉菜单</li><li>v1 文档只显示 v1 接口，v2 文档只显示 v2 接口</li><li>按版本号升序排列，首个版本默认选中</li><li>显示版本状态（如 &quot;V1 (1.0)&quot;、&quot;V2 (2.0)&quot;）</li></ul></li><li><p><strong>文档隔离</strong>:</p><ul><li>v1 文档描述: 包含认证管理、用户管理接口，当前稳定版本</li><li>v2 文档描述: 包含系统管理、性能测试接口，新功能预览版本</li><li>每个版本包含独立的 URL 格式说明和迁移指南</li></ul></li></ul><h4 id="技术要点" tabindex="-1">技术要点 <a class="header-anchor" href="#技术要点" aria-label="Permalink to &quot;技术要点&quot;">​</a></h4><ul><li><p><strong>URL 格式</strong>:</p><ul><li>v1: <code>/api/v1/Login/GetJwtToken</code>, <code>/api/v1/User/GetUserList</code></li><li>v2: <code>/api/v2/AppSetting/GetRedisConfig</code>, <code>/api/v2/RustTest/TestSum1</code></li></ul></li><li><p><strong>特色功能</strong>:</p><ul><li>✅ URL 路径版本控制（业界标准）</li><li>✅ 文档自动隔离（按版本过滤接口）</li><li>✅ 默认版本支持</li><li>✅ 版本报告（响应头包含支持的版本信息）</li><li>✅ 弃用支持（可标记和提示已弃用版本）</li><li>✅ 完全向后兼容</li></ul></li><li><p><strong>配置文件更新</strong>:</p><ul><li>Radish.Api.csproj: 添加 Asp.Versioning.* 包引用、启用 XML 文档生成</li><li>Radish.Extension.csproj: 添加 ApiExplorer 包支持、添加 OpenAPI 相关包</li><li>Radish.Model.csproj: 启用 XML 文档生成</li></ul></li></ul><h4 id="git-提交记录" tabindex="-1">Git 提交记录 <a class="header-anchor" href="#git-提交记录" aria-label="Permalink to &quot;Git 提交记录&quot;">​</a></h4><ul><li><code>df6ca3d</code> - feat: 完善 Scalar OpenAPI 文档配置</li><li><code>9d3ca4a</code> - chore: 配置调试启动时自动打开 API 文档</li><li><code>9f3085b</code> - feat: 实现基于 URL 路径的 API 版本控制</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/docs/DevelopmentPlan.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>开发计划</span><!--]--></a></div><div class="pager" data-v-e257564d><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"authenticationguide.md\":\"Uw5NSHPd\",\"configurationguide.md\":\"Sw0Kb26V\",\"deploymentguide.md\":\"CAFBaCQx\",\"developmentframework.md\":\"nXzUIeHD\",\"developmentlog.md\":\"DlG7OOHi\",\"developmentplan.md\":\"BSNeTUe-\",\"developmentspecifications.md\":\"DtLMyQ61\",\"frontenddesign.md\":\"OT6fA1DJ\",\"gatewayplan.md\":\"QHuMakt9\",\"index.md\":\"RVDAGLzy\",\"openplatformguide.md\":\"BVxeLwOz\",\"readme.md\":\"DSs6HDJd\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Radish 文档\",\"description\":\"Radish 社区平台文档\",\"base\":\"/docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"开发文档\",\"link\":\"/DevelopmentSpecifications\"},{\"text\":\"架构设计\",\"link\":\"/DevelopmentFramework\"},{\"text\":\"部署运维\",\"link\":\"/DeploymentGuide\"}],\"sidebar\":{\"/\":[{\"text\":\"快速开始\",\"items\":[{\"text\":\"项目概览\",\"link\":\"/\"}]},{\"text\":\"开发指南\",\"items\":[{\"text\":\"开发规范\",\"link\":\"/DevelopmentSpecifications\"},{\"text\":\"开发框架说明\",\"link\":\"/DevelopmentFramework\"},{\"text\":\"认证与权限\",\"link\":\"/AuthenticationGuide\"},{\"text\":\"前端设计\",\"link\":\"/FrontendDesign\"},{\"text\":\"Gateway 规划\",\"link\":\"/GatewayPlan\"}]},{\"text\":\"部署与运维\",\"items\":[{\"text\":\"部署指南\",\"link\":\"/DeploymentGuide\"},{\"text\":\"开发计划\",\"link\":\"/DevelopmentPlan\"},{\"text\":\"开发日志\",\"link\":\"/DevelopmentLog\"}]}]},\"outline\":\"deep\",\"socialLinks\":[]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>